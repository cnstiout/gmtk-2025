[gd_scene load_steps=12 format=3 uid="uid://blwdspsggj7au"]

[ext_resource type="Script" uid="uid://dlwa1knvfk5cl" path="res://scripts/camera_follow.gd" id="1_t2bo5"]
[ext_resource type="PackedScene" uid="uid://73n5mq0sbiuu" path="res://scenes/player.tscn" id="2_rcf3p"]
[ext_resource type="Shader" uid="uid://de4whwoeltcu6" path="res://shaders/speedlines.gdshader" id="3_rcf3p"]
[ext_resource type="Shader" uid="uid://bouko4bdnhol2" path="res://shaders/CRT.gdshader" id="4_trpni"]

[sub_resource type="Curve" id="Curve_trpni"]
_data = [Vector2(0.312081, 0), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_vryga"]
curve = SubResource("Curve_trpni")

[sub_resource type="CurveTexture" id="CurveTexture_22jts"]

[sub_resource type="FastNoiseLite" id="FastNoiseLite_yc05a"]

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_lrvlw"]
noise = SubResource("FastNoiseLite_yc05a")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_yst5k"]
shader = ExtResource("3_rcf3p")
shader_parameter/noise = SubResource("NoiseTexture2D_lrvlw")
shader_parameter/alpha = 1.0
shader_parameter/falloff = SubResource("CurveTexture_vryga")
shader_parameter/lineFalloff = SubResource("CurveTexture_22jts")
shader_parameter/speed = 10.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_vryga"]
shader = ExtResource("4_trpni")
shader_parameter/resolution = Vector2(320, 180)
shader_parameter/scan_line_amount = 1.0
shader_parameter/warp_amount = 0.1
shader_parameter/noise_amount = 0.03
shader_parameter/interference_amount = 0.2
shader_parameter/grille_amount = 0.1
shader_parameter/grille_size = 1.0
shader_parameter/vignette_amount = 0.6
shader_parameter/vignette_intensity = 0.4
shader_parameter/aberation_amount = 0.5
shader_parameter/roll_line_amount = 0.3
shader_parameter/roll_speed = 1.0
shader_parameter/scan_line_strength = -8.0
shader_parameter/pixel_strength = -2.0

[node name="PlayerTrack" type="PathFollow3D"]
transform = Transform3D(-0.999949, 9.51771e-09, -8.69009e-08, 0, 0.99403, 0.10887, 8.74183e-08, 0.10887, -0.994031, 0, 0, 0)
v_offset = 0.1
script = ExtResource("1_t2bo5")

[node name="Player" parent="." instance=ExtResource("2_rcf3p")]
unique_name_in_owner = true

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1.00005, 0, 0, 0, 1.00003, 0, 0, 0, 1.00002, -0.0427483, 0.522258, 0.843494)
fov = 100.0

[node name="CanvasLayer" type="CanvasLayer" parent="Camera3D"]

[node name="Speelines" type="ColorRect" parent="Camera3D/CanvasLayer"]
material = SubResource("ShaderMaterial_yst5k")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="CRT" type="ColorRect" parent="Camera3D/CanvasLayer"]
visible = false
material = SubResource("ShaderMaterial_vryga")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="OmniLight3D" type="OmniLight3D" parent="."]
transform = Transform3D(1.00005, -3.72529e-09, -7.45058e-09, -1.86265e-09, 1.00003, 2.98023e-08, 2.23517e-08, 0, 1.00002, 0.0381951, 0.790632, -0.298967)
